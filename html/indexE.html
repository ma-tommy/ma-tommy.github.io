<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="//cdn.kaizenplatform.net/s/fa/2bcc61161624aa.js?kz_namespace=kzs" charset="utf-8"></script>
</head>
<body>
    <h1>indexE</h1>
    <div id="index-e-div" style="margin: 10px;">
       test
    </div>
    <a href="https://ma-tommy.github.io" style="margin: 10px;">google</a><br>
    <input id="index-e-success" type="submit" value="success" style="margin: 10px;background-color: pink; border-radius: 39px;"></input>
    <input id="index-e-faild" type="submit" value="faild" style="margin: 10px;background-color: pink; border-radius: 39px;"></input>
    <div id="random"></div>
    <div id="response">

    </div>
    <script>
        // var callAPI = (url) => {
        //     return new Promise ((resolve, reject) => {
        //         $.get(url,(data) => {
        //             console.log("api response = " + JSON.stringify(data));
        //             if (data.success == true) {
        //                 resolve(data);
        //             } else {
        //                 reject();
        //             }
        //         }, "json");
        //     })
        // }

        // var random = Math.floor(Math.random() * Math.floor(2))
        // var url = ["https://storage.googleapis.com/kaizen-cse-public/cse-examples/xhr-and-dom-append/plain-js/kaizen-web-api/places.json?20200910", "https://storage.googleapis.com/kaizen-cse-public/cse-examples/xhr-and-dom-append/plain-js/kaizen-web-api/places-fail.json?20200910"];
        // console.log("random = " + random);
    
        // var exec = (url) => {
        //     callAPI(url).then((res) => {
        //         $("#response").text(JSON.stringify(res));
        //     }).catch(() => {
        //         $("#response").text("");
        //         return;
        //     })
        // }

        // exec(url[random]);
        // $("#random").text(random);
        var random = Math.floor(Math.random() * Math.floor(2))
var url = ["https://storage.googleapis.com/kaizen-cse-public/cse-examples/xhr-and-dom-append/plain-js/kaizen-web-api/places.json?20200910", "https://storage.googleapis.com/kaizen-cse-public/cse-examples/xhr-and-dom-append/plain-js/kaizen-web-api/places-fail.json?20200910"];

$("#random").text("random = " + random);

return new Promise ((resolve, reject) => {
    $.get(url[random],(data) => {
      $("#response").text("data.success = " + data.success );
      if (data.success == true) {
          console.log("success");
        resolve();
      } else {
        console.log("faild");
        reject();
      }
    }, "json");
});
    </script>  
</body>
  </html>