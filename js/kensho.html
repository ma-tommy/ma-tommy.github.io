<html>
	<!--<!
	[endif]--><head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta
			name="viewport"
			content="width=device-width,initial-scale=1.0,user-scalable=no"
		/>

		<script
			async=""
			src="https://b92.yahoo.co.jp/search/?p=F69BEU16ZO&amp;label=&amp;ref=https%3A%2F%2Fstage-store.acuvue.jnj.co.jp%2Fterms-of-service.html&amp;rref=&amp;pt=&amp;item=&amp;cat=&amp;price=&amp;quantity=&amp;r=1616052772.0403507&amp;pvid=cjfydxpm41gkmek3fw2&amp;tsyjad=1616039706&amp;_impl=ytag"
		></script>
		<script
			type="text/javascript"
			async=""
			src="https://www.googleadservices.com/pagead/conversion_async.js"
		></script>
		<script
			async=""
			src="https://b92.yahoo.co.jp/search/?p=SIUEVHSQ90&amp;label=site_retargeting&amp;ref=https%3A%2F%2Fstage-store.acuvue.jnj.co.jp%2Fterms-of-service.html&amp;rref=&amp;pt=&amp;item=&amp;cat=&amp;price=&amp;quantity=&amp;r=1616052772.736056&amp;pvid=cjfydxpm41gkmek3fw2&amp;tsyjad=1616039706&amp;_impl=ytag"
		></script>
		<script
			type="text/javascript"
			async=""
			src="https://cdn.treasuredata.com/sdk/2.1/td.min.js"
		></script>
		<script
			type="text/javascript"
			src="//yjtag.yahoo.co.jp/tag?site=T3kUB82&amp;referrer=https%3A%2F%2Fstage-store.acuvue.jnj.co.jp%2Fterms-of-service.html&amp;H=-2251ely"
		></script>
		<script
			async=""
			src="https://d.line-scdn.net/n/line_tag/public/release/v1/lt.js"
		></script>
		<script
			src="https://connect.facebook.net/signals/config/2615663148681033?v=2.9.33&amp;r=stable"
			async=""
		></script>
		<script
			async=""
			src="https://connect.facebook.net/en_US/fbevents.js"
		></script>
		<script
			type="text/javascript"
			async=""
			src="https://s.yimg.jp/images/listing/tool/cv/ytag.js"
		></script>
		<script
			type="text/javascript"
			async=""
			src="//www.googleadservices.com/pagead/conversion_async.js"
		></script>
		<script
			type="text/javascript"
			async=""
			src="https://www.google-analytics.com/analytics.js"
		></script>
		<script async="" src="//s.yjtag.jp/tag.js#site=T3kUB82"></script>
		<script
			async=""
			src="//www.googletagmanager.com/gtm.js?id=GTM-MT2LLW"
		></script>
		<script src="https://stage-store.acuvue.jnj.co.jp/assets/js/jquery-3.5.1.min.js?v=3.0"></script>
		<link
			rel="shortcut icon"
			type="image/icon"
			href="https://stage-store.acuvue.jnj.co.jp/assets/images/favicon.ico"
		/>
		<link
			rel="icon"
			type="image/icon"
			href="https://stage-store.acuvue.jnj.co.jp/assets/images/favicon.ico"
		/>

		<link
			rel="stylesheet"
			href="https://stage-store.acuvue.jnj.co.jp/assets/css/main.min.css?v=3.0"
		/>
		<link
			rel="stylesheet"
			href="https://stage-store.acuvue.jnj.co.jp/assets/shared/css/shared.min.css?v=3.0"
		/>

		<!--[if lt IE 9]>
			<link
				rel="stylesheet"
				href="https://stage-store.acuvue.jnj.co.jp/assets/css/ltie9.css?v=3.0"
			/>
		<![endif]-->
		<!--[if lt IE 9]>
			<script src="https://stage-store.acuvue.jnj.co.jp/assets/js/jjado.ltie9.head.js?v=3.0"></script>
		<![endif]-->

		<!-- <script type="text/javascript" src="https://stage-store.acuvue.jnj.co.jp/assets/js/jjado.head.js?v=3.0"></script> -->

		<title>利用規約｜アキュビュー®【公式通販】</title>

		<meta
			name="keywords"
			content="コンタクトレンズ,コンタクト,使い捨てコンタクトレンズ,ワンデーアキュビュー,acuvu,アキュビュー"
		/>

		<meta
			name="description"
			content="本サイトをご利用の際は、必ずご利用規約をお読みいただき、内容をご理解の上、ご利用ください。使い捨てコンタクトレンズ アキュビュー® 公式サイト。"
		/>
		<meta class="foundation-data-attribute-namespace" />
		<meta class="foundation-mq-xxlarge" />
		<meta class="foundation-mq-xlarge-only" />
		<meta class="foundation-mq-xlarge" />
		<meta class="foundation-mq-large-only" />
		<meta class="foundation-mq-large" />
		<meta class="foundation-mq-medium-only" />
		<meta class="foundation-mq-medium" />
		<meta class="foundation-mq-small-only" />
		<meta class="foundation-mq-small" />
		<style></style>
		<script src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/654759185/?random=1616052772618&amp;cv=9&amp;fst=1616052772618&amp;num=1&amp;guid=ON&amp;resp=GooglemKTybQhCsO&amp;u_h=900&amp;u_w=1440&amp;u_ah=900&amp;u_aw=1440&amp;u_cd=30&amp;u_his=2&amp;u_tz=540&amp;u_java=false&amp;u_nplug=3&amp;u_nmime=4&amp;gtm=2wg3a0&amp;sendb=1&amp;ig=1&amp;frm=0&amp;url=https%3A%2F%2Fstage-store.acuvue.jnj.co.jp%2Fterms-of-service.html&amp;tiba=%E5%88%A9%E7%94%A8%E8%A6%8F%E7%B4%84%EF%BD%9C%E3%82%A2%E3%82%AD%E3%83%A5%E3%83%93%E3%83%A5%E3%83%BC%C2%AE%E3%80%90%E5%85%AC%E5%BC%8F%E9%80%9A%E8%B2%A9%E3%80%91&amp;hn=www.googleadservices.com&amp;async=1&amp;rfmt=3&amp;fmt=4"></script>
		<script src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/455723102/?random=1616052772999&amp;cv=9&amp;fst=1616052772999&amp;num=1&amp;bg=ffffff&amp;guid=ON&amp;resp=GooglemKTybQhCsO&amp;eid=376635471&amp;u_h=900&amp;u_w=1440&amp;u_ah=900&amp;u_aw=1440&amp;u_cd=30&amp;u_his=2&amp;u_tz=540&amp;u_java=false&amp;u_nplug=3&amp;u_nmime=4&amp;gtm=2oa3a0&amp;sendb=1&amp;ig=1&amp;data=event%3Dgtag.config&amp;frm=0&amp;url=https%3A%2F%2Fstage-store.acuvue.jnj.co.jp%2Fterms-of-service.html&amp;tiba=%E5%88%A9%E7%94%A8%E8%A6%8F%E7%B4%84%EF%BD%9C%E3%82%A2%E3%82%AD%E3%83%A5%E3%83%93%E3%83%A5%E3%83%BC%C2%AE%E3%80%90%E5%85%AC%E5%BC%8F%E9%80%9A%E8%B2%A9%E3%80%91&amp;hn=www.googleadservices.com&amp;async=1&amp;rfmt=3&amp;fmt=4"></script>
	</head>
	<body style="">
		<header id="header" class="header">
			<div class="row header-row collapse">
				<div class="columns contain-to-grid">
					<nav role="navigation" data-topbar="" class="top-bar">
						<section class="top-bar-section">
							<div class="help-menu row">
								<ul class="header__secondary-links">
									<li
										class="header__secondary-links-active mobile-cart-active item-1"
									>
										<a href="/guide/index.html" target="_self">
											<span>
												<i
													class="icon-userguide header__secondary-links--icon-style"
													aria-hidden="true"
												></i>

												ご利用ガイド
											</span>
										</a>
									</li>

									<li class="item-2">
										<a
											href="/myaccount/show-account-profile.html?reorder=true"
											target="_self"
										>
											<span>
												<i
													class="icon-reorder header__secondary-links--icon-style"
													aria-hidden="true"
												></i>

												再購入
											</span>
										</a>
									</li>

									<li class="item-3">
										<a href="/logon.html" target="_self">
											<span>
												<i
													class="icon-account header__secondary-links--icon-style"
													aria-hidden="true"
												></i>
												ログイン
											</span>
										</a>
									</li>

									<!--li class="divider" role="presentation"></li-->

									<li class="item-4">
										<a href="/cart.html" target="_self">
											<span>
												<i
													class="icon-cart header__secondary-links--icon-style"
													aria-hidden="true"
												></i>

												<input type="hidden" id="cartItemsCount" value="0" />
												<span
													aria-label="カート 
								0 items"
													>カート
													<span
														class="visuallyhidden hide-for-small-only hide-for-medium-only"
													>
														0 items
													</span>
												</span>
												<div
													class="header--cart-product-number"
													id="cartItemsCountText"
													aria-hidden="true"
												>
													0
												</div>
												<!-- end header--cart-product-number -->
											</span>
										</a>
									</li>
								</ul>
								<!-- end header__secondary-links -->
							</div>
							<!-- end row -->

							<hr />

							<div class="title-area-container">
								<ul class="title-area">
									<!-- Displays Site Logo -->

									<li class="name header__acuvue-logo">
										<style type="text/css">
											.header__acuvue-logo .header__acuvue-logo--background {
												background-image: url("https://stage-store.acuvue.jnj.co.jphttps://stage-store.acuvue.jnj.co.jp/assets/images/4095/logos/acuvue_blue_240x60.png?v=3.0");
											}
											.header-mobile-menu-active
												.header__acuvue-logo--background {
												background-image: url("https://stage-store.acuvue.jnj.co.jp/assets/images/4095/logos/acuvue_blue_240x60.png?v=3.0");
											}
											.ie-10
												.header__acuvue-logo
												.header__acuvue-logo--background,
											.lt-ie10
												.header__acuvue-logo
												.header__acuvue-logo--background,
											.lt-ie9
												.header__acuvue-logo
												.header__acuvue-logo--background {
												background-image: url("https://stage-store.acuvue.jnj.co.jp/assets/images/4095/logos/acuvue_blue_240x60.png?v=3.0");
											}
											.ie-10
												.header-mobile-menu-active
												.header__acuvue-logo--background,
											.lt-ie10
												.header-mobile-menu-active
												.header__acuvue-logo--background,
											.lt-ie9
												.header-mobile-menu-active
												.header__acuvue-logo--background {
												background-image: url("https://stage-store.acuvue.jnj.co.jp/assets/images/4095/logos/acuvue_blue_240x60.png?v=3.0");
											}
											.header .header--my-acuvue-logo {
												background-image: url("https://stage-store.acuvue.jnj.co.jp/assets/images/4095/myacuvue/Myacuvue_blue_150x28.png?v=3.0");
											}
											.ie-10 .header .header--my-acuvue-logo,
											.lt-ie10 .header .header--my-acuvue-logo,
											.lt-ie9 .header .header--my-acuvue-logo {
												background-image: url("https://stage-store.acuvue.jnj.co.jp/assets/images/4095/myacuvue/Myacuvue_blue_75x14.png?v=3.0");
											}

											.header-mobile-menu-active .header--my-acuvue-logo {
												background-image: url("https://stage-store.acuvue.jnj.co.jp/assets/images/4095/myacuvue/Myacuvue_white_248x56.png?v=3.0");
											}
											.ie-10 .header-mobile-menu-active .header--my-acuvue-logo,
											.lt-ie10
												.header-mobile-menu-active
												.header--my-acuvue-logo,
											.lt-ie9
												.header-mobile-menu-active
												.header--my-acuvue-logo {
												background-image: url("https://stage-store.acuvue.jnj.co.jp/assets/images/4095/myacuvue/Myacuvue_white_248x56.png?v=3.0");
											}
										</style>
										<h1 class="header__acuvue-logo--background">
											<a
												href="https://acuvuevision.jp"
												target="_self"
												class="header__acuvue-logo--link"
											>
												<span class="visuallyhidden">
													使い捨てコンタクトレンズ アキュビュー<sup>®</sup>
												</span>
											</a>
										</h1>
									</li>
									<li class="toggle-topbar" id="nav-menu">
										<a
											href="javascript:;"
											role="button"
											class="header__menu-button-mobile"
										>
											<i class="icon-menu header__logo-mobile"></i>
											<span data-menu="MENU" data-close="縮小"> MENU </span>
										</a>
									</li>
									<li class="item-4 title-cart">
										<a href="/cart.html" target="_self">
											<span>
												<i
													class="icon-cart header__secondary-links--icon-style"
													aria-hidden="true"
												></i>

												<input type="hidden" id="cartItemsCount" value="0" />
												<span
													aria-label="カート 
								0 items"
													>カート
													<span
														class="visuallyhidden hide-for-small-only hide-for-medium-only"
													>
														0 items
													</span>
												</span>
												<div
													class="header--cart-product-number"
													id="cartItemsCountText"
													aria-hidden="true"
												>
													0
												</div>
												<!-- end header--cart-product-number -->
											</span>
										</a>
									</li>
									<li class="item-2 title-account-profile">
										<a
											href="/myaccount/show-account-profile.html?reorder=true"
											target="_self"
										>
											<span>
												<i
													class="icon-reorder header__secondary-links--icon-style"
													aria-hidden="true"
												></i>

												再購入
											</span>
										</a>
									</li>
									<li class="item-3 title-account-login">
										<a href="/logon.html" target="_self">
											<span>
												<i
													class="icon-account header__secondary-links--icon-style"
													aria-hidden="true"
												></i>
												ログイン
											</span>
										</a>
									</li>
								</ul>
								<!-- end title-area -->
							</div>
							<!-- end title-area-container -->

							<div class="row" id="main-menu">
								<ul class="mobile-secondary-links">
									<li class="item-3 mobile-account-login">
										<a href="/logon.html" target="_self">
											<span>
												<i
													class="icon-account header__secondary-links--icon-style"
													aria-hidden="true"
												></i>
												ログイン
											</span>
										</a>
									</li>
									<li class="item-3 nav-home mobile-home">
										<a href="/home.html" target="_self">
											<span class="header__primary-links-content">
												オンラインストア
											</span>
										</a>
									</li>
									<li
										class="header__secondary-links-active mobile-cart-active item-1 mobile-guide"
									>
										<a href="/guide/index.html" target="_self">
											<span>
												<i
													class="icon-userguide header__secondary-links--icon-style"
													aria-hidden="true"
												></i>

												ご利用ガイド
											</span>
										</a>
									</li>
									<li class="item-2 mobile-reorder">
										<a
											href="/myaccount/show-account-profile.html?reorder=true"
											target="_self"
										>
											<span>
												<i
													class="icon-reorder header__secondary-links--icon-style"
													aria-hidden="true"
												></i>

												再購入
											</span>
										</a>
									</li>
								</ul>
								<ul class="header__secondary-links">
									<li
										class="header__secondary-links-active mobile-cart-active item-1"
									>
										<a href="/guide/index.html" target="_self">
											<span>
												<i
													class="icon-userguide header__secondary-links--icon-style"
													aria-hidden="true"
												></i>

												ご利用ガイド
											</span>
										</a>
									</li>

									<li class="item-2">
										<a
											href="/myaccount/show-account-profile.html?reorder=true"
											target="_self"
										>
											<span>
												<i
													class="icon-reorder header__secondary-links--icon-style"
													aria-hidden="true"
												></i>

												再購入
											</span>
										</a>
									</li>

									<li class="item-3">
										<a href="/logon.html" target="_self">
											<span>
												<i
													class="icon-account header__secondary-links--icon-style"
													aria-hidden="true"
												></i>
												ログイン
											</span>
										</a>
									</li>

									<!--li class="divider" role="presentation"></li-->

									<li class="item-4">
										<a href="/cart.html" target="_self">
											<span>
												<i
													class="icon-cart header__secondary-links--icon-style"
													aria-hidden="true"
												></i>

												<input type="hidden" id="cartItemsCount" value="0" />
												<span
													aria-label="カート 
															0 items"
													>カート
													<span
														class="visuallyhidden hide-for-small-only hide-for-medium-only"
													>
														0 items
													</span>
												</span>
												<div
													class="header--cart-product-number"
													id="cartItemsCountText"
													aria-hidden="true"
												>
													0
												</div>
												<!-- end header--cart-product-number -->
											</span>
										</a>
									</li>
								</ul>
								<!-- end header__secondary-links -->
								<ul class="left header__primary-links">
									<li class="item-3 nav-home">
										<a href="/home.html" target="_self">
											<span class="header__primary-links-content">
												オンラインストア
											</span>
										</a>
									</li>

									<li class="item-1">
										<a href="https://acuvuevision.jp/products" target="_self">
											<span class="header__primary-links-content">
												製品情報
											</span>
										</a>
									</li>

									<li class="item-2">
										<a
											href="http://acuvue.jnj.co.jp/store/index.aspx?Program=ap3"
											target="_self"
										>
											<span class="header__primary-links-content">
												取扱い店検索
											</span>
										</a>
									</li>
								</ul>
								<!-- end header__primary-links -->
							</div>
							<!-- end row -->

							<hr />
						</section>
						<!-- end top-bar-section -->
					</nav>
					<!-- end top-bar -->
				</div>
				<!-- end contain-to-grid -->
			</div>
			<!-- end header-row -->
		</header>
		<!-- <div class="account-line-header">
	
</div> -->
		<!-- end account-line-header -->

		<div class="header--model-overlay"></div>
		<!-- end header--model-overlay -->

		<!-- Start Bread crumbs Section -->

		<div id="wrap" style="margin-top: 75px">
			<div class="breadcrumbNav">
				<section class="row">
					<ul class="breadcrumb">
						<li>
							<a href="https://acuvuevision.jp">
								コンタクトレンズのアキュビュー<sup>®</sup> TOP
								<i class="icon-arrow-right"></i>
							</a>
						</li>
						<li>
							<a href="/home.html" role="button">
								アキュビュー<sup>®</sup> オンラインストアTOP
								<i class="icon-arrow-right"></i>
							</a>
						</li>
						<li>利用規約</li>
					</ul>
					<br />
				</section>
			</div>
		</div>
		<!-- End Bread crumbs Section -->

		<div id="contentsBody">
			<div class="contentsBodyInr">
				<div id="termsOfService">
					<div class="toa">
						<a
							id="anchorTermsServiceInfo"
							href="#termsServiceInfo"
							role="button"
							aria-expanded="false"
							aria-controls="collapseTermsServiceInfo"
						>
							<h1 class="circle-heading text-center">
								<font
									style="vertical-align: inherit"
									id="termsServiceStyleId"
									class="showContent"
								>
									<font style="vertical-align: inherit" class="tosv"
										>アキュビュー<sup>®</sup> オンラインストア　利用規約
										<span>あああ</span></font
									>
								</font>
							</h1>
						</a>
						<script>
							$("#anchorTermsServiceInfo").click(function () {
								$("#termsOfService").load(
									"https://stage-store.acuvue.jnj.co.jp/assets/policy/terms-of-service-v2.htm"
								);
							});
						</script>
					</div>
				</div>
				<!-- /contentsBodyInr -->
			</div>
			<!--contentsBody-->
		</div>

		<script>
			(function () {
				var jjado = window.jjado || (window.jjado = {});

				jjado.currentPage = {
					type: "jjado.ui.pages.Page",
					params: {},
				};
			})();
		</script>

		<footer id="footer" class="footer" role="contentinfo">
			<div class="footer-nav">
				<div class="footer-menu row">
					<ul>
						<li>
							<a href="/law.html">
								特定商取引法に基づく表記
								<i class="icon-arrow-right"></i>
							</a>
						</li>

						<li>
							<a href="/terms-of-service.html">
								利用規約
								<i class="icon-arrow-right"></i>
							</a>
						</li>

						<li>
							<a href="http://acuvuevision.jp/privacy">
								個人情報の取扱いについて
								<i class="icon-arrow-right"></i>
							</a>
						</li>

						<li>
							<a href="http://acuvuevision.jp/company">
								会社情報
								<i class="icon-arrow-right"></i>
							</a>
						</li>

						<li>
							<a href="http://acuvuevision.jp/sitemap">
								サイトマップ
								<i class="icon-arrow-right"></i>
							</a>
						</li>

						<li>
							<a href="https://acuvuevision.jp/maintenance">
								システムメンテナンス情報
								<i class="icon-arrow-right"></i>
							</a>
						</li>

						<li>
							<a href="http://acuvuevision.jp/notice">
								製品・商標に関する注記
								<i class="icon-arrow-right"></i>
							</a>
						</li>
					</ul>
				</div>
			</div>
			<hr class="section-divider" />
			<div class="footer-copyright row">
				<div class="columns small-12">
					<p class="margin-reset">
						<small class="copyright-font"
							>© Johnson &amp; Johnson K.K. Vision Care Company 1997-
							<script>
								document.write(new Date().getFullYear());
							</script>
							2021. All Rights Reserved.</small
						>
					</p>
					<p class="margin-reset">
						<small>
							このサイトならびにサイト内のコンテンツは、ジョンソン・エンド・ジョンソン株式会社　ビジョンケア
							カンパニーによって、日本国内向けに制作・運営されています。
						</small>
					</p>
					<p class="margin-reset">
						<small>
							テキストデータならびに画像データの無断転載はお断りいたします。
						</small>
					</p>

					<p class="last-updated">
						<small>
							<!-- This data has to come from the back-end with keys and its data -->
							最終更新日： <span>2020年5月28日</span>
						</small>
					</p>
				</div>

				<div class="columns small-12 text-center">
					<div class="jnj-logo-footer">
						<div
							class="jnj-brand sp-logo-jnj-footer"
							style="
								background-image: url('https://stage-store.acuvue.jnj.co.jp/assets/images/jnj-vision-logo-white.png');
							"
						>
							<span class="visuallyhidden"
								>Johnson &amp; Johnson, Vision Care Company</span
							>
						</div>
					</div>
				</div>
			</div>
			<div class="show-for-small-only">
				<a
					role="button"
					class="scrollup"
					id="scrollup"
					href="javascript:;"
					style="display: none"
				>
					<span class="visuallyhidden">ScrollToTop</span>
				</a>
			</div>
			<script type="text/javascript" src="/JavaScriptServlet"></script>
		</footer>

		<script>
			(function () {
				var jjado = window.jjado || (window.jjado = {});

				/*
       * The currentPage is being defined in each HTML template since this is a static demo site.
       * In the Java environment this should be defined dynamically based on the JSP.
       *
      jjado.currentPage = {
        type: "jjado.ui.pages.Page",
        params: {}
      }
      */

				if (!jjado.config) {
					jjado.config = {};
				}

				if (!jjado.config.constants) {
					jjado.config.constants = {};
				}

				jjado.config.constants = {
					country: "jp",
					language: "en",
					loginId: {
						minLength: 6,
						maxLength: 60,
						regex: /[\u0021-\u007e]+$/,
					},

					email: {
						minLength: 5,
						maxLength: 60,
						regex: /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,
					},

					lastName: {
						minLength: 1,
						maxLength: 10,
						regex: /^([\u3000]*[\u4E00-\u9FCC\u3040-\u309F\u30A0-\u30FF\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\u3005\u2015]+[\u3000]*)+$/,
					},

					firstName: {
						minLength: 1,
						maxLength: 10,
						regex: /^([\u3000]*[\u4E00-\u9FCC\u3040-\u309F\u30A0-\u30FF\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\u3005\u2015]+[\u3000]*)+$/,
					},

					lastNameHiragana: {
						minLength: 1,
						maxLength: 20,
						regex: /^[ぁ-んー・]+$/,
					},

					firstNameHiragana: {
						minLength: 1,
						maxLength: 20,
						regex: /^[ぁ-んー・]+$/,
					},

					telephone: {
						regex: /([0-9]{10,11})+$/,
						maxLength: 11,
					},

					myACUVUENumber: {
						length: 16,
						regex: /([0-9]{16,16})+$/,
					},
					ACUVUECode: {
						minLength: 7,
						maxLength: 7,
						length: 7,
					},
					clinicName: {
						minLength: 3,
						maxLength: 20,
						regex: /^([\u3000]*[^\u0000-\u007F\uFF61-\uFFA0\u3000]+[\u3000]*)+$/,
					},
					postalCode: {
						length: 7,
						regex: /([0-9]{7,7})+$/,
					},
					phoneNumber: {
						minLength: 10,
						maxLength: 11,
					},
					city: {
						maxLength: 16,
						regex: /^([\u3000]*[^\u0000-\u007F\uFF61-\uFFA0\u3000]+[\u3000]*)+$/,
					},
					country: {
						maxLength: 16,
						regex: /^([\u3000]*[^\u0000-\u007F\uFF61-\uFFA0\u3000]+[\u3000]*)+$/,
					},
					street: {
						maxLength: 20,
						regex: /^([\u3000\u0020]*[^\u0000-\u001F\u007F\u0020\u0021\u002F\u005C\u00A0\uFFA0\u3000]+[\u3000\u0020]*)+$/,
					},
					apartmentName: {
						maxLength: 20,
						regex: /^([\u3000\u0020]*[^\u0000-\u001F\u007F\u0020\u0021\u002F\u005C\u00A0\uFFA0\u3000]+[\u3000\u0020]*)+$/,
					},
					nameOnCard: {
						maxLength: 40,
					},
					creditCardNumber: {
						minLength: 13,
						maxLength: 25,
					},
					cvv: {
						minLength: 3,
						maxLength: 4,
					},
				};

				if (!jjado.config.lang) {
					jjado.config.lang = {};
				}

				jjado.config.lang = {
					form: {
						errors: {
							cardType: {
								required: "クレジットカードの種類をお選びください。",
							},
							loginId: {
								required: "ログインIDを入力してください。",
								minLengthLogin: "6桁以上の半角英数字を入力してください。",
								minLengthRegistration:
									"6桁以上の半角英数字を入力してください。",
								maxLength: "ログインID（半角英数字）を入力してください。",
								minLength: "6桁以上の半角英数字を入力してください。",
								alphaNumeric: "6桁以上の半角英数字を入力してください。",
								regex: "6桁以上の半角英数字を入力してください。",
								allOneByte: "6桁以上の半角英数字を入力してください。",
							},
							password: {
								required: "パスワードを入力してください。",
								misMatch:
									"パスワードが一致しません。もう一度入力してください。",
							},
							pin: {
								required: "PINコードを入力してください。",
							},
							confirmpassword: {
								required: "パスワード（半角英数字）を入力してください。",
								misMatch:
									"パスワードが一致しません。もう一度入力してください。",
							},
							lastName: {
								required: "姓（全角）を入力してください。",
								minLength: "Please enter two or more double-byte characters.",
								maxLength: "姓（全角）は10文字以内で入力してください。",
								regex: "姓（全角）を入力してください。",
							},
							firstName: {
								required: "名（全角）を入力してください。",
								minLength: "Please enter two or more double-byte characters.",
								maxLength: "名（全角）は10文字以内で入力してください。",
								regex: "名（全角）を入力してください。",
							},
							lastNameHiragana: {
								required: "姓（かな／全角）を入力してください。",
								minLength: "No data for key error.altLastName.minimum.length",
								maxLength: "姓（かな／全角）は20文字以内で入力してください。",
								regex: "姓（かな／全角）を入力してください。",
								hiragana: "姓（かな／全角）を入力してください。",
							},
							firstNameHiragana: {
								required: "名（かな／全角）を入力してください。",
								minLength: "No data for key error.altFirstName.minimum.length",
								maxLength: "名（かな／全角）は20文字以内で入力してください。",
								regex: "名（かな／全角）を入力してください。",
								hiragana: "名（かな／全角）を入力してください。",
							},
							email: {
								required: "メールアドレスを入力してください。",
								minLength:
									"メールアドレスは英数字5文字以上で入力してください。",
								maxLength:
									"メールアドレスは英数字60文字以内で入力してください。",
								alphaNumeric: "No data for key error.email.alphanumeric",
								allOneByte:
									"メールアドレスは英数字5文字以上で入力してください。",
								format:
									"メールアドレスが正しくありません。もう一度入力してください。",
								regex:
									"メールアドレスが正しくありません。もう一度入力してください。",
								notMatch:
									"メールアドレスが一致しません。もう一度入力してください。",
							},
							confirmEmail: {
								required: "メールアドレスを入力してください。",
								minLength:
									"メールアドレスは英数字5文字以上で入力してください。",
								maxLength:
									"メールアドレスは英数字60文字以内で入力してください。",
								allOneByte: "メールアドレスは英数字で入力してください。",
								format:
									"メールアドレスが正しくありません。もう一度入力してください。",
								regex: "メールアドレスは英数字で入力してください。",
								notMatch:
									"メールアドレスが一致しません。もう一度入力してください。",
							},
							telephone: {
								required: "電話番号（半角数字）を入力してください。",
								regex:
									"電話番号は半角数字（10桁以上11桁以内）で入力してください。",
								maxLength:
									"電話番号は半角数字（10桁以上11桁以内）で入力してください。",
							},
							date: {
								inValidDate:
									"生年月日が正しくありません。もう一度入力してください。",
							},
							myACUVUENumber: {
								invalidLength:
									"Myアキュビュー<sup>&reg;</sup> 会員番号は半角数字16文字以内で入力してください。",
								regex:
									"Myアキュビュー<sup>&reg;</sup> 会員番号は半角数字16文字以内で入力してください。",
							},
							ACUVUECode: {
								required:
									"アキュビュー<sup>&reg;</sup> コード（半角7桁）を入力してください。",
								invalidLength:
									"アキュビュー<sup>&reg;</sup> コードは7文字で入力してください。",
								minLength:
									"アキュビュー<sup>&reg;</sup> コード（半角7桁）を入力してください。",
								maxLength:
									"アキュビュー<sup>&reg;</sup> コードは7文字で入力してください。",
								alpha:
									"アキュビュー<sup>&reg;</sup> コード（半角7桁）を入力してください。",
								applyBtn:
									"『利用する』ボタンをクリックすると、アキュビュー<sup>&reg;</sup> コードが適用されます。 正しいアキュビュー<sup>&reg;</sup> コードを入力後、『利用する』ボタンをクリックしてください。アキュビュー<sup>&reg;</sup> コードを削除した場合も『利用する』ボタンをクリックしてください。",
								allEmpty:
									"アキュビュー<sup>&reg;</sup> コードまたは医療機関名を入力してください。",
							},
							clinicName: {
								minLength: "眼科名は全角3文字以上で入力してください。",
								maxLength: "眼科名は全角20文字以内で入力してください。",
								regex: "眼科名（全角）を入力してください。",
								validateKeyWord: "医療機関名を確認し、正しく入力してください。",
								validateKeyWordAssistance:
									"医療機関名を確認し、正しく入力してください。",
							},
							postalCode: {
								required: "郵便番号（半角）を入力してください。",
								regex: "郵便番号は半角7文字で入力してください。",
								exactLength: "郵便番号は半角7文字で入力してください。",
							},
							country: {
								required: "市区郡（全角）を入力してください。",
								maxLength: "市区郡（全角）を入力してください。",
								regex: "市区郡（全角）を入力してください。",
							},
							city: {
								required: "市区郡（全角）を入力してください。",
								maxLength: "市区郡（全角）を入力してください。",
								regex: "市区郡（全角）を入力してください。",
							},
							street: {
								required: "町名・番地を入力してください。",
								maxLength:
									"町名・番地は20文字以内で入力してください。（「╱(半角)」「╲(半角)」「!(半角)」は使用できません）",
								regex:
									"町名・番地は20文字以内で入力してください。（「╱(半角)」「╲(半角)」「!(半角)」は使用できません）",
							},
							apartmentName: {
								maxLength:
									"建物名は20文字以内で入力してください。（「╱(半角)」「╲(半角)」「!(半角)」は使用できません）",
								regex:
									"建物名は20文字以内で入力してください。（「╱(半角)」「╲(半角)」「!(半角)」は使用できません）",
							},
							phoneNumber: {
								required: "電話番号（半角数字）を入力してください。",
								minLength:
									"電話番号は半角数字（10桁以上11桁以内）で入力してください。",
								maxLength:
									"電話番号は半角数字（10桁以上11桁以内）で入力してください。",
								allOneByte:
									"電話番号は半角数字（10桁以上11桁以内）で入力してください。",
							},
							nameOnCard: {
								required:
									"クレジットカードに記載されているお名前（半角ローマ字）を入力してください。",
								maxLength:
									"クレジットカード名義人は半角英文字（40文字以内）で入力してください。",
								alpha:
									"クレジットカードに記載されているお名前（半角ローマ字）を入力してください。",
							},
							creditCardNumber: {
								required:
									"クレジットカード番号（半角数字）を入力してください。",
								minLength:
									"クレジットカード番号が正しくありません。もう一度入力してください。",
								maxLength:
									"クレジットカード番号は半角英数字（25文字以内）で入力してください。",
								oneByteNumber:
									"クレジットカード番号は半角英数字で入力してください。",
							},
							creditCard: {
								inValidMonth:
									"有効な有効期限をご入力ください。有効期限が１ヶ月未満のクレジットカードはご利用いただけません。別のクレジットカードの情報を入力してください。",
								inValidYear:
									"有効な有効期限をご入力ください。有効期限が１ヶ月未満のクレジットカードはご利用いただけません。別のクレジットカードの情報を入力してください。",
								selectYear:
									"クレジットカード有効期限（年）を入力してください。",
								selectMonth:
									"クレジットカード有効期限（月）を入力してください。",
							},
							cvv: {
								required: "セキュリティコード（半角数字）を入力してください。",
								minLength:
									"セキュリティコードが正しくありません。もう一度入力してください。",
								maxLength:
									"セキュリティコードが正しくありません。もう一度入力してください。",
								oneByteNumber:
									"セキュリティコードは半角数字で入力してください。",
							},
						},
					},
				};
			})();
		</script>

		<!--[if lt IE 9]>
			<script src="https://stage-store.acuvue.jnj.co.jp/assets/js/jjado.ltie9.foot.js?v=3.0"></script>
		<![endif]-->

		<script
			type="text/javascript"
			src="https://stage-store.acuvue.jnj.co.jp/assets/js/jquery-migrate.min.js?v=3.0"
		></script>
		<script
			type="text/javascript"
			src="https://stage-store.acuvue.jnj.co.jp/assets/js/jjado.min.js?v=3.0"
		></script>
		<script
			type="text/javascript"
			src="https://stage-store.acuvue.jnj.co.jp/assets/js/jjado.shared.min.js?v=3.0"
		></script>
		<script
			type="text/javascript"
			src="https://stage-store.acuvue.jnj.co.jp/assets/shared/js/default_btm.min.js?v=3.0"
		></script>
		<script
			type="text/javascript"
			src="https://stage-store.acuvue.jnj.co.jp/assets/shared/js/adidcookie.js"
		></script>
		<script
			type="text/javascript"
			src="https://stage-store.acuvue.jnj.co.jp/assets/shared/js/gtm.js"
		></script>
		<script
			type="text/javascript"
			src="https://stage-store.acuvue.jnj.co.jp/assets/shared/js/yjtag.js"
		></script>
		<script
			type="text/javascript"
			src="https://stage-store.acuvue.jnj.co.jp/assets/shared/js/jquery.dtaccordion.min.js?v=3.0"
		></script>

		<div id="KzExt_SiteJsDetected" style="display: none">
			[{"namespace":"kzs","key":"5b845905f319e61d"}]
		</div>
		<div id="KzExt_SiteJsGetVariation" style="display: none">
			{"matchedProjects":[],"state":"decided","decidedProject":{"expId":"129835","expType":"singlePageTest","experimentId":"129835","experimentType":"singlePageTest","roundId":"196307","roundType":"competition","roundStateId":"241390","roundStateType":"active","variationId":"231743","gaSlot":null,"gaCTrack":"","scVars":"","uaCDim":null,"uaCTrack":"","analyticsId":"Exp_129835_Variation_231743"}}
		</div>
		<div style="display: none; visibility: hidden">
			<script
				data-kz-key="5b845905f319e61d"
				data-kz-namespace="kzs"
				src="//cdn.kaizenplatform.net/s/5b/845905f319e61d.js"
				charset="utf-8"
				data-kz-loaded-sitejs-id="5b845905f319e61d"
				data-kz-applied-sitejs-id="5b845905f319e61d"
			></script>
		</div>
		<iframe
			height="0"
			width="0"
			style="display: none; visibility: hidden"
			src="//9906352.fls.doubleclick.net/activityi;src=9906352;type=invmedia;cat=rt_1y0;ord=8330682935230;gtm=2wg3a0;auiddc=34808932.1616039705;~oref=https%3A%2F%2Fstage-store.acuvue.jnj.co.jp%2Fterms-of-service.html?"
		></iframe>
		<script
			type="text/javascript"
			id=""
			src="//7306706.collect.igodigital.com/collect.js"
		></script>
		<div style="display: none; visibility: hidden">
			<script type="text/javascript">
				!(function (a, b) {
					if (void 0 === b[a]) {
						b[a] = function () {
							b[a].clients.push(this);
							this._init = [Array.prototype.slice.call(arguments)];
						};
						b[a].clients = [];
						for (
							var c = function (e) {
									return function () {
										return (
											(this["_" + e] = this["_" + e] || []),
											this["_" + e].push(Array.prototype.slice.call(arguments)),
											this
										);
									};
								},
								d = "blockEvents unblockEvents setSignedMode setAnonymousMode resetUUID addRecord fetchGlobalID set trackEvent trackPageview trackClicks ready".split(
									" "
								),
								f = 0;
							f < d.length;
							f++
						) {
							var g = d[f];
							b[a].prototype[g] = c(g);
						}
						c = document.createElement("script");
						c.type = "text/javascript";
						c.async = !0;
						c.src =
							("https:" === document.location.protocol ? "https:" : "http:") +
							"//cdn.treasuredata.com/sdk/2.1/td.min.js";
						d = document.getElementsByTagName("script")[0];
						d.parentNode.insertBefore(c, d);
					}
				})("Treasure", this);
				var td = new Treasure({
						host: "in.treasuredata.com",
						writeKey: "9743/36026cc1c59825bc74e43c4cc20e79f36acbe8cc",
						database: "acuvue_stg",
						startInSignedMode: !0,
					}),
					createImage = function (a) {
						var b = document.createElement("img");
						b.src =
							("https:" == document.location.protocol
								? "https://"
								: "http://") + a;
						b.width = 1;
						b.height = 1;
						b.style.display = "none";
						document.body.appendChild(b);
					},
					ttdCall = function (a) {
						a =
							"match.adsrvr.org/track/cmf/generic?ttd_pid\x3dvbyog0i\x26ttd_tpi\x3d1\x26ttd_puid\x3d" +
							a;
						createImage(a);
					},
					dbmCall = function (a) {
						var b = td.client.track.uuid;
						a =
							"cm.g.doubleclick.net/pixel?google_nid\x3dtreasuredata_dmp\x26google_cm\x26td_write_key\x3d8151/fcd628065149d648b80f11448b4083528c0d8a91\x26td_global_id\x3dtd_global_id\x26td_client_id\x3d" +
							b +
							"\x26account\x3d" +
							a +
							"\x26td_host\x3d" +
							document.location.host;
						createImage(a);
					},
					successCallback = function () {
						var a = td.client.host.split(".")[0];
						a =
							("in" === a
								? "aws-us-"
								: "tokyo" === a
								? "aws-tokyo-"
								: "idcf-") + td.client.writeKey.split("/")[0];
						ttdCall(a);
						dbmCall(a);
					},
					gaClientId = window.ga && ga.getAll()[0].get("clientId"),
					getRefQueryParam = function (a) {
						a = a.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
						a = new RegExp("[\\?\x26]" + a + "\x3d([^\x26#]*)");
						a = a.exec(location.search);
						return null === a
							? ""
							: decodeURIComponent(a[1].replace(/\+/g, " "));
					},
					utm_source = "",
					utm_medium = "",
					utm_content = "",
					utm_campaign = "",
					adid = "";
				(function () {
					adid = getRefQueryParam("adid");
					utm_source = getRefQueryParam("utm_source");
					utm_medium = getRefQueryParam("utm_medium");
					utm_content = getRefQueryParam("utm_content");
					utm_campaign = getRefQueryParam("utm_campaign");
				})();
				td.setSignedMode();
				td.set("$global", "td_global_id", "td_global_id");
				td.set("$global", {
					ad_adid: adid,
					ad_utm_medium: utm_medium,
					ad_utm_source: utm_source,
					ad_utm_content: utm_content,
					ad_utm_campaign: utm_campaign,
					ga_client_id: gaClientId,
					consumerid: google_tag_manager["GTM-MT2LLW"].macro(4),
				});
				td.trackPageview("access_common_0001", successCallback);
			</script>
		</div>
		<script type="text/javascript" id="">
			!(function (b, e, f, g, a, c, d) {
				b.fbq ||
					((a = b.fbq = function () {
						a.callMethod
							? a.callMethod.apply(a, arguments)
							: a.queue.push(arguments);
					}),
					b._fbq || (b._fbq = a),
					(a.push = a),
					(a.loaded = !0),
					(a.version = "2.0"),
					(a.queue = []),
					(c = e.createElement(f)),
					(c.async = !0),
					(c.src = g),
					(d = e.getElementsByTagName(f)[0]),
					d.parentNode.insertBefore(c, d));
			})(
				window,
				document,
				"script",
				"https://connect.facebook.net/en_US/fbevents.js"
			);
			fbq("init", "2615663148681033");
			fbq("track", "PageView");
		</script>
		<noscript
			><img
				height="1"
				width="1"
				style="display: none"
				src="https://www.facebook.com/tr?id=2615663148681033&amp;ev=PageView&amp;noscript=1"
		/></noscript>

		<script type="text/javascript" id="">
			(function (a, b, d) {
				a._ltq = a._ltq || [];
				a._lt =
					a._lt ||
					function () {
						a._ltq.push(arguments);
					};
				var e =
						"https:" === location.protocol
							? "https://d.line-scdn.net"
							: "http://d.line-cdn.net",
					c = b.createElement("script");
				c.async = 1;
				c.src = d || e + "/n/line_tag/public/release/v1/lt.js";
				b = b.getElementsByTagName("script")[0];
				b.parentNode.insertBefore(c, b);
			})(window, document);
			_lt("init", {
				customerType: "lap",
				tagId: "2d4b6525-c1c9-4c8b-86de-6f80359e0863",
			});
			_lt("send", "pv", ["2d4b6525-c1c9-4c8b-86de-6f80359e0863"]);
		</script>
		<noscript>
			<img
				height="1"
				width="1"
				style="display: none"
				src="https://tr.line.me/tag.gif?c_t=lap&amp;t_id=2d4b6525-c1c9-4c8b-86de-6f80359e0863&amp;e=pv&amp;noscript=1"
			/>
		</noscript>
		<script type="text/javascript" id="">
			function decorateUrl(b, c) {
				var a = window[window.GoogleAnalyticsObject];
				a &&
					a.getAll &&
					((a = a.getAll().filter(function (d) {
						return c ? d.get("trackingId") === c : !0;
					})),
					(a = a.length ? a[0] : void 0) &&
						(b = new window.gaplugins.Linker(a).decorate(b)));
				return b;
			}
		</script>
		<script
			type="text/javascript"
			id=""
			src="https://www.googletagmanager.com/gtag/js?id=AW-455723102"
		></script>
		<script
			type="text/javascript"
			id=""
			src="https://s.yimg.jp/images/listing/tool/cv/ytag.js"
		></script>
		<script type="text/javascript" id="">
			_etmc.push(["setOrgId", "7306706"]);
			_etmc.push([
				"setUserInfo",
				{ email: google_tag_manager["GTM-MT2LLW"].macro(6) },
			]);
			_etmc.push(["trackPageView"]);
		</script>
		<div style="display: none">
			<img
				src="https://nova.collect.igodigital.com/c2/7306706/track_page_view?payload=%7B%22title%22%3A%22%E5%88%A9%E7%94%A8%E8%A6%8F%E7%B4%84%EF%BD%9C%E3%82%A2%E3%82%AD%E3%83%A5%E3%83%93%E3%83%A5%E3%83%BC%C2%AE%E3%80%90%E5%85%AC%E5%BC%8F%E9%80%9A%E8%B2%A9%E3%80%91%22%2C%22url%22%3A%22https%3A%2F%2Fstage-store.acuvue.jnj.co.jp%2Fterms-of-service.html%23termsServiceInfo%22%2C%22referrer%22%3A%22%22%2C%22user_info%22%3A%7B%7D%7D"
				width="0"
				height="0"
				title="blank image"
				alt=""
				aria-hidden="true"
				style="display: none"
			/>
		</div>
		<script type="text/javascript" id="">
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag("js", new Date());
			gtag("config", "AW-455723102");
		</script>
		<script type="text/javascript" id="">
			window.yjDataLayer = window.yjDataLayer || [];
			function ytag() {
				yjDataLayer.push(arguments);
			}
			ytag({
				type: "yjad_retargeting",
				config: {
					yahoo_retargeting_id: "F69BEU16ZO",
					yahoo_retargeting_label: "",
					yahoo_retargeting_page_type: "",
					yahoo_retargeting_items: [
						{ item_id: "", category_id: "", price: "", quantity: "" },
					],
				},
			});
		</script>
		<iframe
			src="https://bid.g.doubleclick.net/xbbe/pixel?d=KAE"
			style="display: none"
		></iframe>
	</body>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(eventName, data) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent(eventName, true, true);
				var hiddenDiv = document.getElementById(eventName);
				hiddenDiv.innerText = toJSON(data);
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}
			function detectSitescript() {
				var scripts = document.getElementsByTagName("script");
				var sjs = [];
				for (var i = 0; i < scripts.length; i++) {
					var s = scripts[i];
					if (
						(match = s.src.match(
							/^https?:\/\/cdn\.kaizenplatform\.net\/s\/([^\/]{2})\/([^\/]{14})\.js/
						))
					) {
						var key = match[1] + match[2];
						sjs.push({
							namespace: s.dataset.kzNamespace,
							key: key,
						});
					}
				}
				if (sjs.length > 0) {
					postMessage("KzExt_SiteJsDetected", sjs);
					return;
				}
				setTimeout(detectSitescript, 300); //TODO æ¤œçŸ¥ã§ããªã‹ã£ãŸæ™‚ã«é©å½“ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æ&shy;¢ã‚ã‚‹
			}
			detectSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(matchedProjects, state, decidedProject) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent("KzExt_SiteJsGetVariation", true, true);
				var hiddenDiv = document.getElementById("KzExt_SiteJsGetVariation");
				hiddenDiv.innerText = toJSON({
					matchedProjects: projectsToJson(matchedProjects),
					state: state,
					decidedProject: decidedProject,
				});
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				// Fight with Prototype Sucks
				// https://github.com/kaizenplatform/kaizen-site-js/issues/126
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}

			function projectsToJson(projects) {
				var rs = [];
				for (var i = 0; i < projects.length; i++) {
					var project = projects[i];
					rs.push({
						id: project.id,
						type: project.type,
						roundType: project.round.type,
						condition: project.condition,
						conditionMatched: project.conditionMatched,
					});
				}
				return rs;
			}

			function getUrlProjects(kzs) {
				var matchedProjects = [];
				for (var i = 0; i < kzs.current.setting.projects.length; i++) {
					var p = kzs.current.setting.projects[i];
					if (
						p.trigger.matches({ event: "pageVisit", types: ["singlePageTest"] })
					) {
						p.conditionMatched = p.triggerMatches({
							event: "pageVisit",
							types: ["singlePageTest"],
						});
						matchedProjects.push(p);
					}
				}
				return matchedProjects;
			}

			function waitSitescript() {
				function _waitSitescript() {
					var kzs = window["kzs"];
					if (kzs) {
						kzs("getVariation", function (data, state) {
							if (state == "decided" || state == "unmatched") {
								var urlMatchedProjects = getUrlProjects(kzs);
								var decidedProject = null;
								if (state == "decided") {
									decidedProject = data;
								}
								postMessage(urlMatchedProjects, state, decidedProject);
							}
						});
					} else {
						setTimeout(waitSitescript, 100);
					}
				}
				_waitSitescript();
			}
			waitSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(eventName, data) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent(eventName, true, true);
				var hiddenDiv = document.getElementById(eventName);
				hiddenDiv.innerText = toJSON(data);
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}
			function detectSitescript() {
				var scripts = document.getElementsByTagName("script");
				var sjs = [];
				for (var i = 0; i < scripts.length; i++) {
					var s = scripts[i];
					if (
						(match = s.src.match(
							/^https?:\/\/cdn\.kaizenplatform\.net\/s\/([^\/]{2})\/([^\/]{14})\.js/
						))
					) {
						var key = match[1] + match[2];
						sjs.push({
							namespace: s.dataset.kzNamespace,
							key: key,
						});
					}
				}
				if (sjs.length > 0) {
					postMessage("KzExt_SiteJsDetected", sjs);
					return;
				}
				setTimeout(detectSitescript, 300); //TODO æ¤œçŸ¥ã§ããªã‹ã£ãŸæ™‚ã«é©å½“ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æ&shy;¢ã‚ã‚‹
			}
			detectSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(matchedProjects, state, decidedProject) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent("KzExt_SiteJsGetVariation", true, true);
				var hiddenDiv = document.getElementById("KzExt_SiteJsGetVariation");
				hiddenDiv.innerText = toJSON({
					matchedProjects: projectsToJson(matchedProjects),
					state: state,
					decidedProject: decidedProject,
				});
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				// Fight with Prototype Sucks
				// https://github.com/kaizenplatform/kaizen-site-js/issues/126
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}

			function projectsToJson(projects) {
				var rs = [];
				for (var i = 0; i < projects.length; i++) {
					var project = projects[i];
					rs.push({
						id: project.id,
						type: project.type,
						roundType: project.round.type,
						condition: project.condition,
						conditionMatched: project.conditionMatched,
					});
				}
				return rs;
			}

			function getUrlProjects(kzs) {
				var matchedProjects = [];
				for (var i = 0; i < kzs.current.setting.projects.length; i++) {
					var p = kzs.current.setting.projects[i];
					if (
						p.trigger.matches({ event: "pageVisit", types: ["singlePageTest"] })
					) {
						p.conditionMatched = p.triggerMatches({
							event: "pageVisit",
							types: ["singlePageTest"],
						});
						matchedProjects.push(p);
					}
				}
				return matchedProjects;
			}

			function waitSitescript() {
				function _waitSitescript() {
					var kzs = window["kzs"];
					if (kzs) {
						kzs("getVariation", function (data, state) {
							if (state == "decided" || state == "unmatched") {
								var urlMatchedProjects = getUrlProjects(kzs);
								var decidedProject = null;
								if (state == "decided") {
									decidedProject = data;
								}
								postMessage(urlMatchedProjects, state, decidedProject);
							}
						});
					} else {
						setTimeout(waitSitescript, 100);
					}
				}
				_waitSitescript();
			}
			waitSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(eventName, data) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent(eventName, true, true);
				var hiddenDiv = document.getElementById(eventName);
				hiddenDiv.innerText = toJSON(data);
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}
			function detectSitescript() {
				var scripts = document.getElementsByTagName("script");
				var sjs = [];
				for (var i = 0; i < scripts.length; i++) {
					var s = scripts[i];
					if (
						(match = s.src.match(
							/^https?:\/\/cdn\.kaizenplatform\.net\/s\/([^\/]{2})\/([^\/]{14})\.js/
						))
					) {
						var key = match[1] + match[2];
						sjs.push({
							namespace: s.dataset.kzNamespace,
							key: key,
						});
					}
				}
				if (sjs.length > 0) {
					postMessage("KzExt_SiteJsDetected", sjs);
					return;
				}
				setTimeout(detectSitescript, 300); //TODO æ¤œçŸ¥ã§ããªã‹ã£ãŸæ™‚ã«é©å½“ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æ&shy;¢ã‚ã‚‹
			}
			detectSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(matchedProjects, state, decidedProject) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent("KzExt_SiteJsGetVariation", true, true);
				var hiddenDiv = document.getElementById("KzExt_SiteJsGetVariation");
				hiddenDiv.innerText = toJSON({
					matchedProjects: projectsToJson(matchedProjects),
					state: state,
					decidedProject: decidedProject,
				});
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				// Fight with Prototype Sucks
				// https://github.com/kaizenplatform/kaizen-site-js/issues/126
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}

			function projectsToJson(projects) {
				var rs = [];
				for (var i = 0; i < projects.length; i++) {
					var project = projects[i];
					rs.push({
						id: project.id,
						type: project.type,
						roundType: project.round.type,
						condition: project.condition,
						conditionMatched: project.conditionMatched,
					});
				}
				return rs;
			}

			function getUrlProjects(kzs) {
				var matchedProjects = [];
				for (var i = 0; i < kzs.current.setting.projects.length; i++) {
					var p = kzs.current.setting.projects[i];
					if (
						p.trigger.matches({ event: "pageVisit", types: ["singlePageTest"] })
					) {
						p.conditionMatched = p.triggerMatches({
							event: "pageVisit",
							types: ["singlePageTest"],
						});
						matchedProjects.push(p);
					}
				}
				return matchedProjects;
			}

			function waitSitescript() {
				function _waitSitescript() {
					var kzs = window["kzs"];
					if (kzs) {
						kzs("getVariation", function (data, state) {
							if (state == "decided" || state == "unmatched") {
								var urlMatchedProjects = getUrlProjects(kzs);
								var decidedProject = null;
								if (state == "decided") {
									decidedProject = data;
								}
								postMessage(urlMatchedProjects, state, decidedProject);
							}
						});
					} else {
						setTimeout(waitSitescript, 100);
					}
				}
				_waitSitescript();
			}
			waitSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(eventName, data) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent(eventName, true, true);
				var hiddenDiv = document.getElementById(eventName);
				hiddenDiv.innerText = toJSON(data);
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}
			function detectSitescript() {
				var scripts = document.getElementsByTagName("script");
				var sjs = [];
				for (var i = 0; i < scripts.length; i++) {
					var s = scripts[i];
					if (
						(match = s.src.match(
							/^https?:\/\/cdn\.kaizenplatform\.net\/s\/([^\/]{2})\/([^\/]{14})\.js/
						))
					) {
						var key = match[1] + match[2];
						sjs.push({
							namespace: s.dataset.kzNamespace,
							key: key,
						});
					}
				}
				if (sjs.length > 0) {
					postMessage("KzExt_SiteJsDetected", sjs);
					return;
				}
				setTimeout(detectSitescript, 300); //TODO æ¤œçŸ¥ã§ããªã‹ã£ãŸæ™‚ã«é©å½“ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æ&shy;¢ã‚ã‚‹
			}
			detectSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(matchedProjects, state, decidedProject) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent("KzExt_SiteJsGetVariation", true, true);
				var hiddenDiv = document.getElementById("KzExt_SiteJsGetVariation");
				hiddenDiv.innerText = toJSON({
					matchedProjects: projectsToJson(matchedProjects),
					state: state,
					decidedProject: decidedProject,
				});
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				// Fight with Prototype Sucks
				// https://github.com/kaizenplatform/kaizen-site-js/issues/126
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}

			function projectsToJson(projects) {
				var rs = [];
				for (var i = 0; i < projects.length; i++) {
					var project = projects[i];
					rs.push({
						id: project.id,
						type: project.type,
						roundType: project.round.type,
						condition: project.condition,
						conditionMatched: project.conditionMatched,
					});
				}
				return rs;
			}

			function getUrlProjects(kzs) {
				var matchedProjects = [];
				for (var i = 0; i < kzs.current.setting.projects.length; i++) {
					var p = kzs.current.setting.projects[i];
					if (
						p.trigger.matches({ event: "pageVisit", types: ["singlePageTest"] })
					) {
						p.conditionMatched = p.triggerMatches({
							event: "pageVisit",
							types: ["singlePageTest"],
						});
						matchedProjects.push(p);
					}
				}
				return matchedProjects;
			}

			function waitSitescript() {
				function _waitSitescript() {
					var kzs = window["kzs"];
					if (kzs) {
						kzs("getVariation", function (data, state) {
							if (state == "decided" || state == "unmatched") {
								var urlMatchedProjects = getUrlProjects(kzs);
								var decidedProject = null;
								if (state == "decided") {
									decidedProject = data;
								}
								postMessage(urlMatchedProjects, state, decidedProject);
							}
						});
					} else {
						setTimeout(waitSitescript, 100);
					}
				}
				_waitSitescript();
			}
			waitSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(eventName, data) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent(eventName, true, true);
				var hiddenDiv = document.getElementById(eventName);
				hiddenDiv.innerText = toJSON(data);
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}
			function detectSitescript() {
				var scripts = document.getElementsByTagName("script");
				var sjs = [];
				for (var i = 0; i < scripts.length; i++) {
					var s = scripts[i];
					if (
						(match = s.src.match(
							/^https?:\/\/cdn\.kaizenplatform\.net\/s\/([^\/]{2})\/([^\/]{14})\.js/
						))
					) {
						var key = match[1] + match[2];
						sjs.push({
							namespace: s.dataset.kzNamespace,
							key: key,
						});
					}
				}
				if (sjs.length > 0) {
					postMessage("KzExt_SiteJsDetected", sjs);
					return;
				}
				setTimeout(detectSitescript, 300); //TODO æ¤œçŸ¥ã§ããªã‹ã£ãŸæ™‚ã«é©å½“ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æ&shy;¢ã‚ã‚‹
			}
			detectSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(matchedProjects, state, decidedProject) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent("KzExt_SiteJsGetVariation", true, true);
				var hiddenDiv = document.getElementById("KzExt_SiteJsGetVariation");
				hiddenDiv.innerText = toJSON({
					matchedProjects: projectsToJson(matchedProjects),
					state: state,
					decidedProject: decidedProject,
				});
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				// Fight with Prototype Sucks
				// https://github.com/kaizenplatform/kaizen-site-js/issues/126
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}

			function projectsToJson(projects) {
				var rs = [];
				for (var i = 0; i < projects.length; i++) {
					var project = projects[i];
					rs.push({
						id: project.id,
						type: project.type,
						roundType: project.round.type,
						condition: project.condition,
						conditionMatched: project.conditionMatched,
					});
				}
				return rs;
			}

			function getUrlProjects(kzs) {
				var matchedProjects = [];
				for (var i = 0; i < kzs.current.setting.projects.length; i++) {
					var p = kzs.current.setting.projects[i];
					if (
						p.trigger.matches({ event: "pageVisit", types: ["singlePageTest"] })
					) {
						p.conditionMatched = p.triggerMatches({
							event: "pageVisit",
							types: ["singlePageTest"],
						});
						matchedProjects.push(p);
					}
				}
				return matchedProjects;
			}

			function waitSitescript() {
				function _waitSitescript() {
					var kzs = window["kzs"];
					if (kzs) {
						kzs("getVariation", function (data, state) {
							if (state == "decided" || state == "unmatched") {
								var urlMatchedProjects = getUrlProjects(kzs);
								var decidedProject = null;
								if (state == "decided") {
									decidedProject = data;
								}
								postMessage(urlMatchedProjects, state, decidedProject);
							}
						});
					} else {
						setTimeout(waitSitescript, 100);
					}
				}
				_waitSitescript();
			}
			waitSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(eventName, data) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent(eventName, true, true);
				var hiddenDiv = document.getElementById(eventName);
				hiddenDiv.innerText = toJSON(data);
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}
			function detectSitescript() {
				var scripts = document.getElementsByTagName("script");
				var sjs = [];
				for (var i = 0; i < scripts.length; i++) {
					var s = scripts[i];
					if (
						(match = s.src.match(
							/^https?:\/\/cdn\.kaizenplatform\.net\/s\/([^\/]{2})\/([^\/]{14})\.js/
						))
					) {
						var key = match[1] + match[2];
						sjs.push({
							namespace: s.dataset.kzNamespace,
							key: key,
						});
					}
				}
				if (sjs.length > 0) {
					postMessage("KzExt_SiteJsDetected", sjs);
					return;
				}
				setTimeout(detectSitescript, 300); //TODO æ¤œçŸ¥ã§ããªã‹ã£ãŸæ™‚ã«é©å½“ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æ&shy;¢ã‚ã‚‹
			}
			detectSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(matchedProjects, state, decidedProject) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent("KzExt_SiteJsGetVariation", true, true);
				var hiddenDiv = document.getElementById("KzExt_SiteJsGetVariation");
				hiddenDiv.innerText = toJSON({
					matchedProjects: projectsToJson(matchedProjects),
					state: state,
					decidedProject: decidedProject,
				});
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				// Fight with Prototype Sucks
				// https://github.com/kaizenplatform/kaizen-site-js/issues/126
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}

			function projectsToJson(projects) {
				var rs = [];
				for (var i = 0; i < projects.length; i++) {
					var project = projects[i];
					rs.push({
						id: project.id,
						type: project.type,
						roundType: project.round.type,
						condition: project.condition,
						conditionMatched: project.conditionMatched,
					});
				}
				return rs;
			}

			function getUrlProjects(kzs) {
				var matchedProjects = [];
				for (var i = 0; i < kzs.current.setting.projects.length; i++) {
					var p = kzs.current.setting.projects[i];
					if (
						p.trigger.matches({ event: "pageVisit", types: ["singlePageTest"] })
					) {
						p.conditionMatched = p.triggerMatches({
							event: "pageVisit",
							types: ["singlePageTest"],
						});
						matchedProjects.push(p);
					}
				}
				return matchedProjects;
			}

			function waitSitescript() {
				function _waitSitescript() {
					var kzs = window["kzs"];
					if (kzs) {
						kzs("getVariation", function (data, state) {
							if (state == "decided" || state == "unmatched") {
								var urlMatchedProjects = getUrlProjects(kzs);
								var decidedProject = null;
								if (state == "decided") {
									decidedProject = data;
								}
								postMessage(urlMatchedProjects, state, decidedProject);
							}
						});
					} else {
						setTimeout(waitSitescript, 100);
					}
				}
				_waitSitescript();
			}
			waitSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(eventName, data) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent(eventName, true, true);
				var hiddenDiv = document.getElementById(eventName);
				hiddenDiv.innerText = toJSON(data);
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}
			function detectSitescript() {
				var scripts = document.getElementsByTagName("script");
				var sjs = [];
				for (var i = 0; i < scripts.length; i++) {
					var s = scripts[i];
					if (
						(match = s.src.match(
							/^https?:\/\/cdn\.kaizenplatform\.net\/s\/([^\/]{2})\/([^\/]{14})\.js/
						))
					) {
						var key = match[1] + match[2];
						sjs.push({
							namespace: s.dataset.kzNamespace,
							key: key,
						});
					}
				}
				if (sjs.length > 0) {
					postMessage("KzExt_SiteJsDetected", sjs);
					return;
				}
				setTimeout(detectSitescript, 300); //TODO æ¤œçŸ¥ã§ããªã‹ã£ãŸæ™‚ã«é©å½“ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æ&shy;¢ã‚ã‚‹
			}
			detectSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(matchedProjects, state, decidedProject) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent("KzExt_SiteJsGetVariation", true, true);
				var hiddenDiv = document.getElementById("KzExt_SiteJsGetVariation");
				hiddenDiv.innerText = toJSON({
					matchedProjects: projectsToJson(matchedProjects),
					state: state,
					decidedProject: decidedProject,
				});
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				// Fight with Prototype Sucks
				// https://github.com/kaizenplatform/kaizen-site-js/issues/126
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}

			function projectsToJson(projects) {
				var rs = [];
				for (var i = 0; i < projects.length; i++) {
					var project = projects[i];
					rs.push({
						id: project.id,
						type: project.type,
						roundType: project.round.type,
						condition: project.condition,
						conditionMatched: project.conditionMatched,
					});
				}
				return rs;
			}

			function getUrlProjects(kzs) {
				var matchedProjects = [];
				for (var i = 0; i < kzs.current.setting.projects.length; i++) {
					var p = kzs.current.setting.projects[i];
					if (
						p.trigger.matches({ event: "pageVisit", types: ["singlePageTest"] })
					) {
						p.conditionMatched = p.triggerMatches({
							event: "pageVisit",
							types: ["singlePageTest"],
						});
						matchedProjects.push(p);
					}
				}
				return matchedProjects;
			}

			function waitSitescript() {
				function _waitSitescript() {
					var kzs = window["kzs"];
					if (kzs) {
						kzs("getVariation", function (data, state) {
							if (state == "decided" || state == "unmatched") {
								var urlMatchedProjects = getUrlProjects(kzs);
								var decidedProject = null;
								if (state == "decided") {
									decidedProject = data;
								}
								postMessage(urlMatchedProjects, state, decidedProject);
							}
						});
					} else {
						setTimeout(waitSitescript, 100);
					}
				}
				_waitSitescript();
			}
			waitSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(eventName, data) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent(eventName, true, true);
				var hiddenDiv = document.getElementById(eventName);
				hiddenDiv.innerText = toJSON(data);
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}
			function detectSitescript() {
				var scripts = document.getElementsByTagName("script");
				var sjs = [];
				for (var i = 0; i < scripts.length; i++) {
					var s = scripts[i];
					if (
						(match = s.src.match(
							/^https?:\/\/cdn\.kaizenplatform\.net\/s\/([^\/]{2})\/([^\/]{14})\.js/
						))
					) {
						var key = match[1] + match[2];
						sjs.push({
							namespace: s.dataset.kzNamespace,
							key: key,
						});
					}
				}
				if (sjs.length > 0) {
					postMessage("KzExt_SiteJsDetected", sjs);
					return;
				}
				setTimeout(detectSitescript, 300); //TODO æ¤œçŸ¥ã§ããªã‹ã£ãŸæ™‚ã«é©å½“ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æ&shy;¢ã‚ã‚‹
			}
			detectSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(matchedProjects, state, decidedProject) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent("KzExt_SiteJsGetVariation", true, true);
				var hiddenDiv = document.getElementById("KzExt_SiteJsGetVariation");
				hiddenDiv.innerText = toJSON({
					matchedProjects: projectsToJson(matchedProjects),
					state: state,
					decidedProject: decidedProject,
				});
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				// Fight with Prototype Sucks
				// https://github.com/kaizenplatform/kaizen-site-js/issues/126
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}

			function projectsToJson(projects) {
				var rs = [];
				for (var i = 0; i < projects.length; i++) {
					var project = projects[i];
					rs.push({
						id: project.id,
						type: project.type,
						roundType: project.round.type,
						condition: project.condition,
						conditionMatched: project.conditionMatched,
					});
				}
				return rs;
			}

			function getUrlProjects(kzs) {
				var matchedProjects = [];
				for (var i = 0; i < kzs.current.setting.projects.length; i++) {
					var p = kzs.current.setting.projects[i];
					if (
						p.trigger.matches({ event: "pageVisit", types: ["singlePageTest"] })
					) {
						p.conditionMatched = p.triggerMatches({
							event: "pageVisit",
							types: ["singlePageTest"],
						});
						matchedProjects.push(p);
					}
				}
				return matchedProjects;
			}

			function waitSitescript() {
				function _waitSitescript() {
					var kzs = window["kzs"];
					if (kzs) {
						kzs("getVariation", function (data, state) {
							if (state == "decided" || state == "unmatched") {
								var urlMatchedProjects = getUrlProjects(kzs);
								var decidedProject = null;
								if (state == "decided") {
									decidedProject = data;
								}
								postMessage(urlMatchedProjects, state, decidedProject);
							}
						});
					} else {
						setTimeout(waitSitescript, 100);
					}
				}
				_waitSitescript();
			}
			waitSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(eventName, data) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent(eventName, true, true);
				var hiddenDiv = document.getElementById(eventName);
				hiddenDiv.innerText = toJSON(data);
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}
			function detectSitescript() {
				var scripts = document.getElementsByTagName("script");
				var sjs = [];
				for (var i = 0; i < scripts.length; i++) {
					var s = scripts[i];
					if (
						(match = s.src.match(
							/^https?:\/\/cdn\.kaizenplatform\.net\/s\/([^\/]{2})\/([^\/]{14})\.js/
						))
					) {
						var key = match[1] + match[2];
						sjs.push({
							namespace: s.dataset.kzNamespace,
							key: key,
						});
					}
				}
				if (sjs.length > 0) {
					postMessage("KzExt_SiteJsDetected", sjs);
					return;
				}
				setTimeout(detectSitescript, 300); //TODO æ¤œçŸ¥ã§ããªã‹ã£ãŸæ™‚ã«é©å½“ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æ&shy;¢ã‚ã‚‹
			}
			detectSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(matchedProjects, state, decidedProject) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent("KzExt_SiteJsGetVariation", true, true);
				var hiddenDiv = document.getElementById("KzExt_SiteJsGetVariation");
				hiddenDiv.innerText = toJSON({
					matchedProjects: projectsToJson(matchedProjects),
					state: state,
					decidedProject: decidedProject,
				});
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				// Fight with Prototype Sucks
				// https://github.com/kaizenplatform/kaizen-site-js/issues/126
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}

			function projectsToJson(projects) {
				var rs = [];
				for (var i = 0; i < projects.length; i++) {
					var project = projects[i];
					rs.push({
						id: project.id,
						type: project.type,
						roundType: project.round.type,
						condition: project.condition,
						conditionMatched: project.conditionMatched,
					});
				}
				return rs;
			}

			function getUrlProjects(kzs) {
				var matchedProjects = [];
				for (var i = 0; i < kzs.current.setting.projects.length; i++) {
					var p = kzs.current.setting.projects[i];
					if (
						p.trigger.matches({ event: "pageVisit", types: ["singlePageTest"] })
					) {
						p.conditionMatched = p.triggerMatches({
							event: "pageVisit",
							types: ["singlePageTest"],
						});
						matchedProjects.push(p);
					}
				}
				return matchedProjects;
			}

			function waitSitescript() {
				function _waitSitescript() {
					var kzs = window["kzs"];
					if (kzs) {
						kzs("getVariation", function (data, state) {
							if (state == "decided" || state == "unmatched") {
								var urlMatchedProjects = getUrlProjects(kzs);
								var decidedProject = null;
								if (state == "decided") {
									decidedProject = data;
								}
								postMessage(urlMatchedProjects, state, decidedProject);
							}
						});
					} else {
						setTimeout(waitSitescript, 100);
					}
				}
				_waitSitescript();
			}
			waitSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(eventName, data) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent(eventName, true, true);
				var hiddenDiv = document.getElementById(eventName);
				hiddenDiv.innerText = toJSON(data);
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}
			function detectSitescript() {
				var scripts = document.getElementsByTagName("script");
				var sjs = [];
				for (var i = 0; i < scripts.length; i++) {
					var s = scripts[i];
					if (
						(match = s.src.match(
							/^https?:\/\/cdn\.kaizenplatform\.net\/s\/([^\/]{2})\/([^\/]{14})\.js/
						))
					) {
						var key = match[1] + match[2];
						sjs.push({
							namespace: s.dataset.kzNamespace,
							key: key,
						});
					}
				}
				if (sjs.length > 0) {
					postMessage("KzExt_SiteJsDetected", sjs);
					return;
				}
				setTimeout(detectSitescript, 300); //TODO æ¤œçŸ¥ã§ããªã‹ã£ãŸæ™‚ã«é©å½“ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æ&shy;¢ã‚ã‚‹
			}
			detectSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(matchedProjects, state, decidedProject) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent("KzExt_SiteJsGetVariation", true, true);
				var hiddenDiv = document.getElementById("KzExt_SiteJsGetVariation");
				hiddenDiv.innerText = toJSON({
					matchedProjects: projectsToJson(matchedProjects),
					state: state,
					decidedProject: decidedProject,
				});
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				// Fight with Prototype Sucks
				// https://github.com/kaizenplatform/kaizen-site-js/issues/126
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}

			function projectsToJson(projects) {
				var rs = [];
				for (var i = 0; i < projects.length; i++) {
					var project = projects[i];
					rs.push({
						id: project.id,
						type: project.type,
						roundType: project.round.type,
						condition: project.condition,
						conditionMatched: project.conditionMatched,
					});
				}
				return rs;
			}

			function getUrlProjects(kzs) {
				var matchedProjects = [];
				for (var i = 0; i < kzs.current.setting.projects.length; i++) {
					var p = kzs.current.setting.projects[i];
					if (
						p.trigger.matches({ event: "pageVisit", types: ["singlePageTest"] })
					) {
						p.conditionMatched = p.triggerMatches({
							event: "pageVisit",
							types: ["singlePageTest"],
						});
						matchedProjects.push(p);
					}
				}
				return matchedProjects;
			}

			function waitSitescript() {
				function _waitSitescript() {
					var kzs = window["kzs"];
					if (kzs) {
						kzs("getVariation", function (data, state) {
							if (state == "decided" || state == "unmatched") {
								var urlMatchedProjects = getUrlProjects(kzs);
								var decidedProject = null;
								if (state == "decided") {
									decidedProject = data;
								}
								postMessage(urlMatchedProjects, state, decidedProject);
							}
						});
					} else {
						setTimeout(waitSitescript, 100);
					}
				}
				_waitSitescript();
			}
			waitSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(eventName, data) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent(eventName, true, true);
				var hiddenDiv = document.getElementById(eventName);
				hiddenDiv.innerText = toJSON(data);
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}
			function detectSitescript() {
				var scripts = document.getElementsByTagName("script");
				var sjs = [];
				for (var i = 0; i < scripts.length; i++) {
					var s = scripts[i];
					if (
						(match = s.src.match(
							/^https?:\/\/cdn\.kaizenplatform\.net\/s\/([^\/]{2})\/([^\/]{14})\.js/
						))
					) {
						var key = match[1] + match[2];
						sjs.push({
							namespace: s.dataset.kzNamespace,
							key: key,
						});
					}
				}
				if (sjs.length > 0) {
					postMessage("KzExt_SiteJsDetected", sjs);
					return;
				}
				setTimeout(detectSitescript, 300); //TODO æ¤œçŸ¥ã§ããªã‹ã£ãŸæ™‚ã«é©å½“ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æ&shy;¢ã‚ã‚‹
			}
			detectSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(matchedProjects, state, decidedProject) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent("KzExt_SiteJsGetVariation", true, true);
				var hiddenDiv = document.getElementById("KzExt_SiteJsGetVariation");
				hiddenDiv.innerText = toJSON({
					matchedProjects: projectsToJson(matchedProjects),
					state: state,
					decidedProject: decidedProject,
				});
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				// Fight with Prototype Sucks
				// https://github.com/kaizenplatform/kaizen-site-js/issues/126
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}

			function projectsToJson(projects) {
				var rs = [];
				for (var i = 0; i < projects.length; i++) {
					var project = projects[i];
					rs.push({
						id: project.id,
						type: project.type,
						roundType: project.round.type,
						condition: project.condition,
						conditionMatched: project.conditionMatched,
					});
				}
				return rs;
			}

			function getUrlProjects(kzs) {
				var matchedProjects = [];
				for (var i = 0; i < kzs.current.setting.projects.length; i++) {
					var p = kzs.current.setting.projects[i];
					if (
						p.trigger.matches({ event: "pageVisit", types: ["singlePageTest"] })
					) {
						p.conditionMatched = p.triggerMatches({
							event: "pageVisit",
							types: ["singlePageTest"],
						});
						matchedProjects.push(p);
					}
				}
				return matchedProjects;
			}

			function waitSitescript() {
				function _waitSitescript() {
					var kzs = window["kzs"];
					if (kzs) {
						kzs("getVariation", function (data, state) {
							if (state == "decided" || state == "unmatched") {
								var urlMatchedProjects = getUrlProjects(kzs);
								var decidedProject = null;
								if (state == "decided") {
									decidedProject = data;
								}
								postMessage(urlMatchedProjects, state, decidedProject);
							}
						});
					} else {
						setTimeout(waitSitescript, 100);
					}
				}
				_waitSitescript();
			}
			waitSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(eventName, data) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent(eventName, true, true);
				var hiddenDiv = document.getElementById(eventName);
				hiddenDiv.innerText = toJSON(data);
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}
			function detectSitescript() {
				var scripts = document.getElementsByTagName("script");
				var sjs = [];
				for (var i = 0; i < scripts.length; i++) {
					var s = scripts[i];
					if (
						(match = s.src.match(
							/^https?:\/\/cdn\.kaizenplatform\.net\/s\/([^\/]{2})\/([^\/]{14})\.js/
						))
					) {
						var key = match[1] + match[2];
						sjs.push({
							namespace: s.dataset.kzNamespace,
							key: key,
						});
					}
				}
				if (sjs.length > 0) {
					postMessage("KzExt_SiteJsDetected", sjs);
					return;
				}
				setTimeout(detectSitescript, 300); //TODO æ¤œçŸ¥ã§ããªã‹ã£ãŸæ™‚ã«é©å½“ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æ&shy;¢ã‚ã‚‹
			}
			detectSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(matchedProjects, state, decidedProject) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent("KzExt_SiteJsGetVariation", true, true);
				var hiddenDiv = document.getElementById("KzExt_SiteJsGetVariation");
				hiddenDiv.innerText = toJSON({
					matchedProjects: projectsToJson(matchedProjects),
					state: state,
					decidedProject: decidedProject,
				});
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				// Fight with Prototype Sucks
				// https://github.com/kaizenplatform/kaizen-site-js/issues/126
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}

			function projectsToJson(projects) {
				var rs = [];
				for (var i = 0; i < projects.length; i++) {
					var project = projects[i];
					rs.push({
						id: project.id,
						type: project.type,
						roundType: project.round.type,
						condition: project.condition,
						conditionMatched: project.conditionMatched,
					});
				}
				return rs;
			}

			function getUrlProjects(kzs) {
				var matchedProjects = [];
				for (var i = 0; i < kzs.current.setting.projects.length; i++) {
					var p = kzs.current.setting.projects[i];
					if (
						p.trigger.matches({ event: "pageVisit", types: ["singlePageTest"] })
					) {
						p.conditionMatched = p.triggerMatches({
							event: "pageVisit",
							types: ["singlePageTest"],
						});
						matchedProjects.push(p);
					}
				}
				return matchedProjects;
			}

			function waitSitescript() {
				function _waitSitescript() {
					var kzs = window["kzs"];
					if (kzs) {
						kzs("getVariation", function (data, state) {
							if (state == "decided" || state == "unmatched") {
								var urlMatchedProjects = getUrlProjects(kzs);
								var decidedProject = null;
								if (state == "decided") {
									decidedProject = data;
								}
								postMessage(urlMatchedProjects, state, decidedProject);
							}
						});
					} else {
						setTimeout(waitSitescript, 100);
					}
				}
				_waitSitescript();
			}
			waitSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(eventName, data) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent(eventName, true, true);
				var hiddenDiv = document.getElementById(eventName);
				hiddenDiv.innerText = toJSON(data);
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}
			function detectSitescript() {
				var scripts = document.getElementsByTagName("script");
				var sjs = [];
				for (var i = 0; i < scripts.length; i++) {
					var s = scripts[i];
					if (
						(match = s.src.match(
							/^https?:\/\/cdn\.kaizenplatform\.net\/s\/([^\/]{2})\/([^\/]{14})\.js/
						))
					) {
						var key = match[1] + match[2];
						sjs.push({
							namespace: s.dataset.kzNamespace,
							key: key,
						});
					}
				}
				if (sjs.length > 0) {
					postMessage("KzExt_SiteJsDetected", sjs);
					return;
				}
				setTimeout(detectSitescript, 300); //TODO æ¤œçŸ¥ã§ããªã‹ã£ãŸæ™‚ã«é©å½“ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æ&shy;¢ã‚ã‚‹
			}
			detectSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(matchedProjects, state, decidedProject) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent("KzExt_SiteJsGetVariation", true, true);
				var hiddenDiv = document.getElementById("KzExt_SiteJsGetVariation");
				hiddenDiv.innerText = toJSON({
					matchedProjects: projectsToJson(matchedProjects),
					state: state,
					decidedProject: decidedProject,
				});
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				// Fight with Prototype Sucks
				// https://github.com/kaizenplatform/kaizen-site-js/issues/126
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}

			function projectsToJson(projects) {
				var rs = [];
				for (var i = 0; i < projects.length; i++) {
					var project = projects[i];
					rs.push({
						id: project.id,
						type: project.type,
						roundType: project.round.type,
						condition: project.condition,
						conditionMatched: project.conditionMatched,
					});
				}
				return rs;
			}

			function getUrlProjects(kzs) {
				var matchedProjects = [];
				for (var i = 0; i < kzs.current.setting.projects.length; i++) {
					var p = kzs.current.setting.projects[i];
					if (
						p.trigger.matches({ event: "pageVisit", types: ["singlePageTest"] })
					) {
						p.conditionMatched = p.triggerMatches({
							event: "pageVisit",
							types: ["singlePageTest"],
						});
						matchedProjects.push(p);
					}
				}
				return matchedProjects;
			}

			function waitSitescript() {
				function _waitSitescript() {
					var kzs = window["kzs"];
					if (kzs) {
						kzs("getVariation", function (data, state) {
							if (state == "decided" || state == "unmatched") {
								var urlMatchedProjects = getUrlProjects(kzs);
								var decidedProject = null;
								if (state == "decided") {
									decidedProject = data;
								}
								postMessage(urlMatchedProjects, state, decidedProject);
							}
						});
					} else {
						setTimeout(waitSitescript, 100);
					}
				}
				_waitSitescript();
			}
			waitSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(eventName, data) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent(eventName, true, true);
				var hiddenDiv = document.getElementById(eventName);
				hiddenDiv.innerText = toJSON(data);
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}
			function detectSitescript() {
				var scripts = document.getElementsByTagName("script");
				var sjs = [];
				for (var i = 0; i < scripts.length; i++) {
					var s = scripts[i];
					if (
						(match = s.src.match(
							/^https?:\/\/cdn\.kaizenplatform\.net\/s\/([^\/]{2})\/([^\/]{14})\.js/
						))
					) {
						var key = match[1] + match[2];
						sjs.push({
							namespace: s.dataset.kzNamespace,
							key: key,
						});
					}
				}
				if (sjs.length > 0) {
					postMessage("KzExt_SiteJsDetected", sjs);
					return;
				}
				setTimeout(detectSitescript, 300); //TODO æ¤œçŸ¥ã§ããªã‹ã£ãŸæ™‚ã«é©å½“ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æ&shy;¢ã‚ã‚‹
			}
			detectSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(matchedProjects, state, decidedProject) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent("KzExt_SiteJsGetVariation", true, true);
				var hiddenDiv = document.getElementById("KzExt_SiteJsGetVariation");
				hiddenDiv.innerText = toJSON({
					matchedProjects: projectsToJson(matchedProjects),
					state: state,
					decidedProject: decidedProject,
				});
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				// Fight with Prototype Sucks
				// https://github.com/kaizenplatform/kaizen-site-js/issues/126
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}

			function projectsToJson(projects) {
				var rs = [];
				for (var i = 0; i < projects.length; i++) {
					var project = projects[i];
					rs.push({
						id: project.id,
						type: project.type,
						roundType: project.round.type,
						condition: project.condition,
						conditionMatched: project.conditionMatched,
					});
				}
				return rs;
			}

			function getUrlProjects(kzs) {
				var matchedProjects = [];
				for (var i = 0; i < kzs.current.setting.projects.length; i++) {
					var p = kzs.current.setting.projects[i];
					if (
						p.trigger.matches({ event: "pageVisit", types: ["singlePageTest"] })
					) {
						p.conditionMatched = p.triggerMatches({
							event: "pageVisit",
							types: ["singlePageTest"],
						});
						matchedProjects.push(p);
					}
				}
				return matchedProjects;
			}

			function waitSitescript() {
				function _waitSitescript() {
					var kzs = window["kzs"];
					if (kzs) {
						kzs("getVariation", function (data, state) {
							if (state == "decided" || state == "unmatched") {
								var urlMatchedProjects = getUrlProjects(kzs);
								var decidedProject = null;
								if (state == "decided") {
									decidedProject = data;
								}
								postMessage(urlMatchedProjects, state, decidedProject);
							}
						});
					} else {
						setTimeout(waitSitescript, 100);
					}
				}
				_waitSitescript();
			}
			waitSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(eventName, data) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent(eventName, true, true);
				var hiddenDiv = document.getElementById(eventName);
				hiddenDiv.innerText = toJSON(data);
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}
			function detectSitescript() {
				var scripts = document.getElementsByTagName("script");
				var sjs = [];
				for (var i = 0; i < scripts.length; i++) {
					var s = scripts[i];
					if (
						(match = s.src.match(
							/^https?:\/\/cdn\.kaizenplatform\.net\/s\/([^\/]{2})\/([^\/]{14})\.js/
						))
					) {
						var key = match[1] + match[2];
						sjs.push({
							namespace: s.dataset.kzNamespace,
							key: key,
						});
					}
				}
				if (sjs.length > 0) {
					postMessage("KzExt_SiteJsDetected", sjs);
					return;
				}
				setTimeout(detectSitescript, 300); //TODO æ¤œçŸ¥ã§ããªã‹ã£ãŸæ™‚ã«é©å½“ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æ&shy;¢ã‚ã‚‹
			}
			detectSitescript();
		})();
	</script>
	<script>
		(function () {
			//FIXME DRY
			function postMessage(matchedProjects, state, decidedProject) {
				var customEvent = document.createEvent("Event");
				customEvent.initEvent("KzExt_SiteJsGetVariation", true, true);
				var hiddenDiv = document.getElementById("KzExt_SiteJsGetVariation");
				hiddenDiv.innerText = toJSON({
					matchedProjects: projectsToJson(matchedProjects),
					state: state,
					decidedProject: decidedProject,
				});
				hiddenDiv.dispatchEvent(customEvent);
			}
			//FIXME DRY
			function toJSON() {
				// Fight with Prototype Sucks
				// https://github.com/kaizenplatform/kaizen-site-js/issues/126
				deleteToJSON = function (obj) {
					if (!obj) {
						return obj;
					}
					if (typeof obj != "object") {
						return obj;
					}
					if (typeof obj.toJSON == "function") {
						obj.toJSON = undefined;
					}
					for (var k in obj) {
						obj[k] = deleteToJSON(obj[k]);
					}
					return obj;
				};
				a = arguments;
				a[0] = deleteToJSON(a[0]);
				return JSON.stringify.apply(JSON, a);
			}

			function projectsToJson(projects) {
				var rs = [];
				for (var i = 0; i < projects.length; i++) {
					var project = projects[i];
					rs.push({
						id: project.id,
						type: project.type,
						roundType: project.round.type,
						condition: project.condition,
						conditionMatched: project.conditionMatched,
					});
				}
				return rs;
			}

			function getUrlProjects(kzs) {
				var matchedProjects = [];
				for (var i = 0; i < kzs.current.setting.projects.length; i++) {
					var p = kzs.current.setting.projects[i];
					if (
						p.trigger.matches({ event: "pageVisit", types: ["singlePageTest"] })
					) {
						p.conditionMatched = p.triggerMatches({
							event: "pageVisit",
							types: ["singlePageTest"],
						});
						matchedProjects.push(p);
					}
				}
				return matchedProjects;
			}

			function waitSitescript() {
				function _waitSitescript() {
					var kzs = window["kzs"];
					if (kzs) {
						kzs("getVariation", function (data, state) {
							if (state == "decided" || state == "unmatched") {
								var urlMatchedProjects = getUrlProjects(kzs);
								var decidedProject = null;
								if (state == "decided") {
									decidedProject = data;
								}
								postMessage(urlMatchedProjects, state, decidedProject);
							}
						});
					} else {
						setTimeout(waitSitescript, 100);
					}
				}
				_waitSitescript();
			}
			waitSitescript();
		})();
	</script>
</html>
